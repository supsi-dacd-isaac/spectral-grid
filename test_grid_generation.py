import matplotlib

from spectral_grid import MapBoxGraph, DEFAULT_CONN_WEIGHTS


if __name__ == '__main__':

    matplotlib.use('Qt5Agg')

    TREMONA = (45.88116, 8.9540, 45.88209, 8.95783)
    LITTA_PARODI = (44.8717, 8.7079, 44.8739, 8.7123)
    SPINETTA = (44.88281, 8.68040, 44.88549, 8.68468)
    SAN_GIULIANO = (44.88402, 8.75631, 44.89017, 8.766982)
    AROGNO = (45.9588249324694, 8.984525799751282, 45.960618653465815, 8.988415002822874)
    SAN_MICHELE = (45.954327322635976, 8.990035057067871, 45.95854897023902, 8.994777202606201)
    CAMPIONE = (45.96329421044767, 8.96908700466156, 45.96491812661948, 8.971541225910187)
    AROSIO_MUGENA = (46.043510148612334, 8.888132572174072, 46.05036097561633, 8.908238410949707)
    AROSIO = (46.043510148612334, 8.894011974334717, 46.05036097561633, 8.908238410949707)
    LUGAGGIA_COM = (46.06069590935483, 8.968126773834229, 46.0626717120586, 8.970304727554321)
    CANOBBIO_BIG = (46.03177240968806, 8.949050903320312, 46.04359951269434, 8.971645832061766)

    GRAPHIC_OPTS = {
        'node_shape': 'h',
    }

    mbg = MapBoxGraph(TREMONA, None, log_level=10)
    mbg.compute([1.0], DEFAULT_CONN_WEIGHTS, maxiter=100, imbalance_tol=1e-1)
    mbg.subplot(**GRAPHIC_OPTS)
    pass
